# AlignJuice 项目演示大纲

> 用于向他人阐述项目的演示文稿结构

---

## Slide 1: 封面

**AlignJuice: 高质量对齐数据管理框架**

*让 LLM 对齐数据准备变得简单高效*

---

## Slide 2: 问题背景

### LLM 对齐面临的数据挑战

```
❌ 原始数据质量参差不齐
❌ 大量重复和噪声数据
❌ 人工筛选成本高昂
❌ 缺乏系统化的质量评估
```

### 关键洞察 (LIMA 论文)

> **1000 条高质量数据 > 100,000 条低质量数据**

---

## Slide 3: 解决方案概览

### AlignJuice 是什么？

一个**端到端的自动化流水线**，将粗筛数据转化为高质量对齐数据

```
┌─────────┐      ┌─────────────┐      ┌─────────┐
│ 3000 条 │ ───▶ │ AlignJuice  │ ───▶ │ 1000 条 │
│ 粗筛数据│      │  四阶段处理  │      │高质量数据│
└─────────┘      └─────────────┘      └─────────┘
```

### 核心价值

- ✅ 自动化质量提升
- ✅ 多维度质量保证
- ✅ 可追溯、可解释
- ✅ 交互式探索

---

## Slide 4: 技术融合

### 站在巨人的肩膀上

| 来源 | 我们采用的技术 |
|------|---------------|
| **Data-Juicer 2.0** | 数据配方、DaaR 多样性算子 |
| **LIMA** | 高质量少样本理念 |
| **LIMO** | 推理链增强方法 |
| **phi-3** | 教科书级合成方法 |
| **CleanLab** | 噪声检测技术 |

### 创新点

- 统一框架整合分散工具
- 向量嵌入替代知识图谱
- 本地/云 LLM 无缝切换

---

## Slide 5: 四阶段流水线

```
Stage 1: Data-Juicer 基础处理
├── 精确去重 (MD5)
├── 语义去重 (阈值 0.95)
├── 质量过滤 (阈值 0.8)
└── 多样性选择
    3000 → 1500 条

Stage 2: 知识密度筛选
├── 嵌入知识评分
├── LLM 合成增强
└── Top-K 选择
    1500 → 1000 条

Stage 3: 推理链增强
├── LIMO 推理链
├── CleanLab 噪声检测
└── LIMA 风格验证
    1000 → 1000 条 (质量↑)

Stage 4: 沙箱评估
├── 多维度指标
└── 质量报告生成
```

---

## Slide 6: 系统架构

```
┌─────────────────────────────────────────┐
│            应用层 (CLI / Jupyter)        │
├─────────────────────────────────────────┤
│         流水线层 (Pipeline / Stage)      │
├─────────────────────────────────────────┤
│    算子层 (Dedup / Filter / Transform)   │
├─────────────────────────────────────────┤
│      集成层 (LLM / Embedding / CleanLab) │
├─────────────────────────────────────────┤
│     基础层 (DataContainer / Registry)    │
└─────────────────────────────────────────┘
```

### 设计原则

- **模块化**: 算子可独立使用、自由组合
- **配置驱动**: YAML 定义流水线
- **可扩展**: 注册机制支持自定义算子

---

## Slide 7: 核心算子展示

### 去重算子

| 算子 | 方法 | 效果 |
|------|------|------|
| ExactDedup | MD5 哈希 | 快速精确匹配 |
| SemanticDedup | 余弦相似度 | 语义近似去重 |

### 过滤算子

| 算子 | 方法 | 效果 |
|------|------|------|
| QualityFilter | 启发式评分 | 过滤低质量 |
| KnowledgeFilter | 嵌入 + 信息熵 | 保留高知识密度 |
| DiversityFilter | MaxMin 选择 | 确保多样性 |

### 转换算子

| 算子 | 方法 | 效果 |
|------|------|------|
| LLMSynthesis | phi-3 风格 | 增强低质量样本 |
| ReasoningChain | LIMO 风格 | 添加推理链 |

---

## Slide 8: 使用演示

### 命令行

```bash
alignjuice run --config configs/default.yaml \
               --input data/raw.jsonl \
               --output output/final.jsonl
```

### Python API

```python
from alignjuice import AlignJuice

aj = AlignJuice(config="configs/default.yaml")
data = aj.load("data/raw.jsonl")
result = aj.run_pipeline(data)
result.report()
```

### Jupyter 交互

```python
data.describe()           # 统计概览
data.sample(5).show()     # 随机采样
data.plot_distribution()  # 可视化
```

---

## Slide 9: 质量报告示例

### 输出指标

| 指标 | 值 | 说明 |
|------|-----|------|
| 总样本数 | 1000 | 最终保留 |
| 平均知识分 | 0.78 | 知识密度 |
| 平均质量分 | 0.85 | 内容质量 |
| 多样性 | 92% | 唯一指令比例 |
| 推理链覆盖 | 35% | reasoning 类增强 |

### 类别分布

```
factual:   35% ████████████
reasoning: 28% █████████
daily:     22% ███████
creative:  15% █████
```

---

## Slide 10: 技术亮点

### 1. 向量嵌入替代知识图谱

```
传统方案: 构建维护知识图谱 → 复杂、成本高
我们方案: 嵌入相似度 + 信息熵 → 简单、效果好
```

### 2. LLM 后端抽象

```python
# 本地优先，云端兜底
config = LLMConfig(
    backend="ollama",           # 本地 Ollama
    fallback_backend="openai"   # 失败时切换 OpenAI
)
```

### 3. 检查点机制

```
Stage 1 ──✓──▶ Stage 2 ──✓──▶ Stage 3 ──✗ (失败)
                                  │
                                  ▼
                            从 Stage 2 恢复
```

---

## Slide 11: 项目成果

### 代码统计

- **46 个源文件**
- **~4000 行 Python 代码**
- **8 个单元测试全部通过**

### 实现的功能

- ✅ 完整四阶段流水线
- ✅ 6 种核心算子
- ✅ 2 种 LLM 后端 (Ollama/OpenAI)
- ✅ 2 种嵌入后端 (ST/OpenAI)
- ✅ CLI + Python API + Jupyter
- ✅ 检查点与恢复
- ✅ HTML 质量报告

---

## Slide 12: 未来规划

### 短期

- [ ] 更多 LLM 后端 (Anthropic, vLLM)
- [ ] CleanLab 深度集成
- [ ] 更多质量指标

### 中期

- [ ] 分布式处理支持
- [ ] Web UI 界面
- [ ] 模型评估集成

### 长期

- [ ] 自动化配方推荐
- [ ] 多语言支持
- [ ] 社区算子市场

---

## Slide 13: 总结

### AlignJuice 的价值

```
┌────────────────────────────────────────┐
│                                        │
│   3000 条粗筛数据                       │
│         │                              │
│         ▼                              │
│   ┌──────────────┐                     │
│   │  AlignJuice  │  自动化 · 可追溯    │
│   │  四阶段流水线 │  高质量 · 低成本    │
│   └──────────────┘                     │
│         │                              │
│         ▼                              │
│   1000 条高质量对齐数据                 │
│                                        │
└────────────────────────────────────────┘
```

### 一句话总结

> **AlignJuice 让 LLM 对齐数据准备从人工筛选走向自动化流水线**

---

## Slide 14: Q&A

**感谢聆听！**

- GitHub: [项目地址]
- 文档: docs/PROJECT_OVERVIEW.md
- 示例: notebooks/

---

## 附录: 演讲要点提示

### 开场 (2分钟)
- 强调数据质量 > 数据数量
- 引用 LIMA 论文结论

### 技术方案 (5分钟)
- 重点讲解四阶段流水线
- 每个阶段的输入输出

### 演示 (3分钟)
- 展示 Jupyter 交互式使用
- 展示质量报告

### 亮点 (2分钟)
- 向量嵌入替代知识图谱
- LLM 后端抽象

### 总结 (1分钟)
- 强调自动化、可追溯
- 展望未来
